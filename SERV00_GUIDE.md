# SAIA - SERV00æœåŠ¡å™¨éƒ¨ç½²å®Œæ•´æŒ‡å—

## ğŸ“‹ ç›®å½•
1. [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
2. [ä¸Šä¼ æ–‡ä»¶](#ä¸Šä¼ æ–‡ä»¶)
3. [ç¼–è¯‘ç¨‹åº](#ç¼–è¯‘ç¨‹åº)
4. [é…ç½®æ–‡ä»¶](#é…ç½®æ–‡ä»¶)
5. [è¿è¡Œæµ‹è¯•](#è¿è¡Œæµ‹è¯•)
6. [åå°è¿è¡Œ](#åå°è¿è¡Œ)
7. [æŸ¥çœ‹ç»“æœ](#æŸ¥çœ‹ç»“æœ)

---

## å¿«é€Ÿå¼€å§‹

### æœ€å¿«é€Ÿæ–¹æ¡ˆï¼ˆä¸€æ¡å‘½ä»¤æå®šï¼‰

```bash
# åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œ
cd ~/saia && chmod +x build_linux.sh test.sh && ./build_linux.sh && ./test.sh
```

---

## ä¸Šä¼ æ–‡ä»¶

### éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶åˆ—è¡¨

```
å¿…éœ€æ–‡ä»¶:
â”œâ”€â”€ saia.h
â”œâ”€â”€ main.c
â”œâ”€â”€ config.c
â”œâ”€â”€ file_ops.c
â”œâ”€â”€ network.c
â”œâ”€â”€ scanner.c
â”œâ”€â”€ json_parser.c
â”œâ”€â”€ utils.c
â”œâ”€â”€ color.c
â”œâ”€â”€ string_ops.c
â”œâ”€â”€ backpressure.c
â”œâ”€â”€ Makefile
â”œâ”€â”€ build_linux.sh
â”œâ”€â”€ test.sh
â””â”€â”€ ip.txt (ä½ çš„IPåˆ—è¡¨)
```

### ä¸Šä¼ æ–¹æ³•å‚è€ƒ

#### æ–¹æ³•1: SCPä¸Šä¼ ï¼ˆæ¨èï¼‰
```bash
# åœ¨æœ¬åœ°Windows PowerShell/CMDä¸­
scp *.h *.c *.sh Makefile ip.txt pass.txt user@serv00.com:~/saia/
```

#### æ–¹æ³•2: WinSCPå›¾å½¢ç•Œé¢
1. ä¸‹è½½WinSCP: https://winscp.net/
2. è¿æ¥åˆ°ä½ çš„SERV00æœåŠ¡å™¨
3. åœ¨å·¦ä¾§æœ¬åœ°çª—å£é€‰æ‹© `F:\C\` ç›®å½•
4. åœ¨å³ä¾§æœåŠ¡å™¨çª—å£åˆ›å»º `saia` æ–‡ä»¶å¤¹
5. é€‰ä¸­æ‰€æœ‰æ–‡ä»¶ï¼Œæ‹–åŠ¨åˆ°æœåŠ¡å™¨

#### æ–¹æ³•3: æœåŠ¡å™¨ä¸Šç›´æ¥ä¸‹è½½ï¼ˆå¦‚æœæœ‰Gitï¼‰
```bash
# åœ¨æœåŠ¡å™¨ä¸Š
git clone YOUR_REPO_URL ~/saia
cd ~/saia
```

---

## ç¼–è¯‘ç¨‹åº

### è‡ªåŠ¨ç¼–è¯‘ï¼ˆæ¨èï¼‰

```bash
cd ~/saia
chmod +x build_linux.sh
./build_linux.sh
```

é¢„æœŸè¾“å‡ºï¼š
```
======================================
SAIA Cç‰ˆæœ¬ - ç¼–è¯‘è„šæœ¬
======================================

GCCç‰ˆæœ¬:
gcc (Ubuntu 9.4.0-1ubuntu1~20.04.1) 9.4.0

æ­£åœ¨ç¼–è¯‘...
...
ç¼–è¯‘.log (some warnings are normal)

======================================
âœ… ç¼–è¯‘æˆåŠŸ!
======================================

ç”Ÿæˆæ–‡ä»¶: saia
-rwxr-xr-x 1 user group 45K Mar  1 12:34 saia

è¿è¡Œå‘½ä»¤: ./saia
```

### æ‰‹åŠ¨ç¼–è¯‘

```bash
cd ~/saia
gcc -std=c11 -Wall -Wextra -O2 -pthread -lm \
    main.c config.c file_ops.c network.c scanner.c \
    json_parser.c utils.c color.c string_ops.c backpressure.c \
    -o saia
```

### å¸¸è§ç¼–è¯‘é—®é¢˜

**é—®é¢˜1: gcc: command not found**
```bash
# å®‰è£…ç¼–è¯‘å™¨
sudo apt-get update
sudo apt-get install -y build-essential
```

**é—®é¢˜2: æƒé™æ‹’ç»**
```bash
# ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
chmod +x *.sh
```

**é—®é¢˜3: æ•°å­¦åº“é“¾æ¥é”™è¯¯**
```bash
# ä½¿ç”¨ -lm é€‰é¡¹
gcc *.c -o saia -lm -pthread
```

---

## é…ç½®æ–‡ä»¶

### ip.txt æ ¼å¼

æ”¯æŒçš„IPæ ¼å¼ï¼š

```
# å•ä¸ªIP
192.168.1.1

# IP:ç«¯å£
192.168.1.1:8080
192.168.1.2:54321

# IPæ®µ (CIDR)
10.0.0.0/24
192.168.0.0/16

# IPèŒƒå›´
192.168.1.1-192.168.1.100
192.168.1.1-10  (1åˆ°10)

# æ··åˆä½¿ç”¨
192.168.1.1
192.168.1.2:8080
10.0.0.0/24
```

ç¤ºä¾‹ `ip.txt`:
```
192.168.1.1
192.168.1.2
192.168.1.3:54321
10.0.0.0/24
```

### pass.txt æ ¼å¼

æ”¯æŒçš„å¯†ç æ ¼å¼ï¼š

```
# åªæœ‰å¯†ç ï¼ˆä½¿ç”¨é»˜è®¤ç”¨æˆ·åadminï¼‰
admin123
password

# ç”¨æˆ·å:å¯†ç 
admin:admin123
root:root123

# æ··åˆä½¿ç”¨
admin123
root:root123
```

ç¤ºä¾‹ `pass.txt`:
```
admin
admin:admin123
root
root:123456
```

### åˆ›å»ºç¤ºä¾‹é…ç½®æ–‡ä»¶

```bash
# åˆ›å»ºç¤ºä¾‹ip.txt
cat > ip.txt << 'EOF'
192.168.1.1
192.168.1.2
192.168.1.3
EOF

# åˆ›å»ºç¤ºä¾‹pass.txt
cat > pass.txt << 'EOF'
admin
admin:admin123
EOF
```

---

## è¿è¡Œæµ‹è¯•

### äº¤äº’å¼æµ‹è¯•

```bash
cd ~/saia
chmod +x test.sh
./test.sh
```

èœå•é€‰æ‹©ï¼š

```
è¯·é€‰æ‹© [1-5]:
1. è¿è¡Œäº¤äº’å¼æ¨¡å¼ (./saia)     # æ‰‹åŠ¨é€‰æ‹©åŠŸèƒ½
2. è¿è¡Œå¹¶ç«‹å³é€€å‡º                  # å¿«é€Ÿæ£€æŸ¥ç¨‹åº
3. åå°è¿è¡Œå¹¶è®°å½•æ—¥å¿—              # é•¿æœŸæ‰«æ
4. æŸ¥çœ‹IPåˆ—è¡¨                      # æ£€æŸ¥èŠ‚ç‚¹
5. æŸ¥çœ‹å¯†ç åˆ—è¡¨                    # æ£€æŸ¥å‡­æ®
```

### ç›´æ¥è¿è¡Œç¨‹åº

```bash
cd ~/saia
./saia
```

ç¨‹åºèœå•ï¼š

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  SYSTEM ASSET INTEGRITY AUDITOR v24.0    â•‘
â•‘              çº¯Cå®ç°ç‰ˆæœ¬                 â•‘
â•‘          è‡ªåŒ…å« - æ— ç¬¬ä¸‰æ–¹ä¾èµ–         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â• åŠŸèƒ½èœå• â•

  [1] å¼€å§‹å®¡è®¡æ‰«æ
  [2] é…ç½®å‚æ•°
  [3] æŸ¥çœ‹æŠ¥è¡¨
  [4] å¯¼å‡ºç»“æœ
  [5] èŠ‚ç‚¹ç®¡ç†
  [6] å‡­æ®ç®¡ç†
  [7] Telegramæ¨é€
  [8] å‹èƒŒæ§åˆ¶         â† æ–°å¢åŠŸèƒ½ï¼
  [9] æ¸…ç†æ•°æ®
  [0] é€€å‡º

è¯·é€‰æ‹©:
```

### æŸ¥çœ‹å‹èƒŒåŠŸèƒ½ï¼ˆæ–°åŠŸèƒ½ï¼ï¼‰

é€‰æ‹©èœå•é¡¹ **[8] å‹èƒŒæ§åˆ¶**:

```
ã€å‹èƒŒæ§åˆ¶ã€‘
å½“å‰çŠ¶æ€: å·²å¯ç”¨

é…ç½®:
  CPUé˜ˆå€¼: 80.0%
  å†…å­˜é˜ˆå€¼: 2048.0 MB
  æœ€å¤§è¿æ¥: 500
  å®æ—¶CPU: 45.2%
  å®æ—¶å†…å­˜: 6144.0 MB
  å½“å‰è¿æ¥: 200
  é™æµçŠ¶æ€: å¦

  [1] å¯ç”¨/ç¦ç”¨
  [2] è°ƒæ•´é˜ˆå€¼
  [3] ç«‹å³æ£€æŸ¥
  [0] è¿”å›
```

---

## åå°è¿è¡Œ

### æ–¹å¼1: nohupåå°è¿è¡Œ

```bash
cd ~/saia
nohup ./saia > saia.log 2>&1 &
echo $! > saia.pid
```

**æŸ¥çœ‹æ—¥å¿—**:
```bash
tail -f saia.log
```

**åœæ­¢ç¨‹åº**:
```bash
kill $(cat saia.pid)
```

### æ–¹å¼2: screenä¼šè¯

```bash
# åˆ›å»ºscreenä¼šè¯
screen -S saia

# åœ¨screenä¸­è¿è¡Œ
cd ~/saia
./saia

# åˆ†ç¦»screen: Ctrl+A, D

# é‡æ–°è¿æ¥
screen -r saia
```

### æ–¹å¼3: tmuxä¼šè¯

```bash
# åˆ›å»ºtmuxä¼šè¯
tmux new -s saia

# åœ¨tmuxä¸­è¿è¡Œ
cd ~/saia
./saia

# åˆ†ç¦»tmux: Ctrl+B, D

# é‡æ–°è¿æ¥
tmux attach -t saia
```

### æ–¹å¼4: systemdæœåŠ¡ï¼ˆé•¿æœŸè¿è¡Œï¼‰

åˆ›å»ºæœåŠ¡æ–‡ä»¶ `/etc/systemd/system/saia.service`:

```ini
[Unit]
Description=SAIA Scanner
After=network.target

[Service]
Type=simple
User=your_username
WorkingDirectory=/home/your_username/saia
ExecStart=/home/your_username/saia/saia
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

å¯ç”¨æœåŠ¡ï¼š
```bash
sudo systemctl enable saia
sudo systemctl start saia
sudo systemctl status saia
```

---

## æŸ¥çœ‹ç»“æœ

### å®æ—¶æ—¥å¿—

```bash
# æŸ¥çœ‹ç¨‹åºè¾“å‡º
tail -f saia.log

# æŸ¥çœ‹ç³»ç»Ÿå®¡è®¡æ—¥å¿—
tail -f sys_audit_events.log

# æŸ¥çœ‹ç›‘æ§æ—¥å¿—
tail -f monitor.log
```

### æ‰«æç»“æœ

```bash
# æŸ¥çœ‹å®¡è®¡æŠ¥å‘Š
cat audit_report.log

# æŸ¥çœ‹å·²éªŒè¯çš„èŠ‚ç‚¹
grep "å·²éªŒè¯" audit_report.log

# æŸ¥çœ‹XUIèŠ‚ç‚¹
grep "XUI" audit_report.log

# æŸ¥çœ‹SOCKS5èŠ‚ç‚¹
grep "S5" audit_report.log
```

### ç»Ÿè®¡ä¿¡æ¯

```bash
# ç»Ÿè®¡å‘ç°çš„èŠ‚ç‚¹æ•°
grep -c "å·²å‘ç°" audit_report.log

# ç»Ÿè®¡å·²éªŒè¯çš„èŠ‚ç‚¹æ•°
grep -c "å·²éªŒè¯" audit_report.log

# æ˜¾ç¤ºæœ€å10ä¸ªç»“æœ
tail -10 audit_report.log
```

### å¯¼å‡ºç»“æœ

```bash
# å¯¼å‡ºæ‰€æœ‰XUIèŠ‚ç‚¹
grep "[XUI_FOUND]" audit_report.log > xui_results.txt

# å¯¼å‡ºæ‰€æœ‰SOCKS5èŠ‚ç‚¹
grep "[S5_VERIFIED]" audit_report.log > socks5_results.txt

# å¯¼å‡ºæ ¼å¼åŒ–çš„å‡­æ®
grep "å·²éªŒè¯" audit_report.log | sed 's/.*user:\([^ ]*\) password:\([^ ]*\).*/\1:\2/' > credentials.txt
```

---

## å¸¸è§é—®é¢˜

### Q1: ç¼–è¯‘æ—¶ç¼ºå°‘math.h

**è§£å†³æ–¹æ³•**:
```bash
sudo apt-get install libc6-dev
```

### Q2: è¿è¡Œæ—¶æç¤º"æ‰¾ä¸åˆ°èŠ‚ç‚¹æ–‡ä»¶"

**è§£å†³æ–¹æ³•**:
```bash
# æ£€æŸ¥æ–‡ä»¶å­˜åœ¨
ls -la ip.txt pass.txt

# åˆ›å»ºè½¯é“¾æ¥
ln -s ip.txt nodes.list
ln -s pass.txt tokens.list
```

### Q3: å‹èƒŒæ§åˆ¶ä¸å·¥ä½œ

**è§£å†³æ–¹æ³•**:
1. æ£€æŸ¥æ˜¯å¦æ˜¯åœ¨äº¤äº’å¼æ¨¡å¼ä¸‹è¿è¡Œ
2. é€‰æ‹©èœå•é¡¹[8]æŸ¥çœ‹çŠ¶æ€
3. ç¡®è®¤"å½“å‰çŠ¶æ€: å·²å¯ç”¨"

```bash
# æŸ¥çœ‹CPUä½¿ç”¨
htop
# æˆ–
top

# æŸ¥çœ‹å†…å­˜
free -h
```

### Q4: ç¨‹åºè‡ªåŠ¨åœæ­¢

å¯èƒ½åŸå› ï¼š
1. SSHæ–­å¼€ï¼ˆä½¿ç”¨nohup/screené¿å…ï¼‰
2. å†…å­˜ä¸è¶³ï¼ˆå¯ç”¨å‹èƒŒæ§åˆ¶ï¼‰
3. æƒé™é—®é¢˜

```bash
# æ£€æŸ¥è¿›ç¨‹çŠ¶æ€
ps aux | grep saia

# æŸ¥çœ‹ç¨‹åºé€€å‡ºåŸå› 
tail -50 saia.log
```

### Q5: å¦‚ä½•æé«˜æ‰«æé€Ÿåº¦

```bash
# 1. å¢åŠ çº¿ç¨‹æ•°
# åœ¨èœå•[1]ä¸­ä½¿ç”¨æ›´é«˜çš„å¹¶å‘æ•°

# 2. å…³é—­å‹èƒŒæ§åˆ¶ï¼ˆå°å¿ƒä½¿ç”¨ï¼‰
# åœ¨èœå•[8]ä¸­ç¦ç”¨

# 3. ä½¿ç”¨æ›´å°çš„IPæ®µ
# åœ¨ip.txtä¸­ä½¿ç”¨å…·ä½“IPè€Œä¸æ˜¯å¤§ç½‘æ®µ
```

---

## æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. æ ¹æ®æœåŠ¡å™¨é…ç½®è°ƒæ•´

| å†…å­˜ | æ¨èå¹¶å‘ | å‹èƒŒæ§åˆ¶ |
|------|----------|----------|
| 512MB | 50-100 | å¼ºçƒˆæ¨è |
| 1GB | 100-200 | æ¨è |
| 2GB | 200-400 | å¯é€‰ |
| 4GB+ | 400-500 | å¯é€‰ |

### 2. å¼€å¯å‹èƒŒæ§åˆ¶

å¯¹äºSERV00è¿™ç§å…±äº«æœåŠ¡å™¨ï¼Œ**å¼ºçƒˆå»ºè®®å¼€å¯å‹èƒŒæ§åˆ¶**é˜²æ­¢è¢«KILLã€‚

### 3. åˆç†çš„ç«¯å£é…ç½®

```bash
# XUIç«¯å£
54321, 2053, 7777

# SOCKS5ç«¯å£  
1080, 1081, 1090, 8080, 8888

# æ··åˆç«¯å£
54321, 2053, 1080, 8080, 8888
```

---

## å®‰å…¨å»ºè®®

1. **ä¸è¦æ‰«ææ•æ„ŸIPæ®µ**
   - é¿å…æ‰«ææ”¿åºœã€é“¶è¡Œç­‰
   - ä»…æ‰«ææˆæƒç½‘ç»œ

2. **ä¿æŠ¤å‡­æ®æ–‡ä»¶**
   ```bash
   chmod 600 pass.txt
   ```

3. **å®šæœŸæ¸…ç†æ—¥å¿—**
   ```bash
   rm -f *.log
   ```

4. **ä½¿ç”¨ä½æƒé™è´¦å·è¿è¡Œ**

---

## å¿«é€Ÿå‘½ä»¤å‚è€ƒ

```bash
# ç¼–è¯‘
./build_linux.sh

# æµ‹è¯•
./test.sh

# è¿è¡Œ
./saia

# åå°è¿è¡Œ
nohup ./saia > saia.log 2>&1 &

# æŸ¥çœ‹æ—¥å¿—
tail -f saia.log

# æŸ¥çœ‹ç»“æœ
cat audit_report.log

# åœæ­¢
pkill saia
```

---

## æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. `compile.log` - ç¼–è¯‘æ—¥å¿—
2. `saia.log` - è¿è¡Œæ—¥å¿—
3. `sys_audit_events.log` - ç³»ç»Ÿæ—¥å¿—

---

**ç¥ä½ ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰
